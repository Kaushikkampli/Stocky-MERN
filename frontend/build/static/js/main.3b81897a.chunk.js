(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{63:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(29),s=a.n(c),r=a(3),l=a(6),o=a(2),i=a(0);var j=function(e){return e.status?Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(l.b,{className:"navbar-brand",to:"/index",children:"Stocky"}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(i.jsxs)("ul",{className:"navbar-nav",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(l.b,{className:"nav-link",to:"/quote",children:"Quote"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(l.b,{className:"nav-link",to:"/buy",children:"Buy"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(l.b,{className:"nav-link",to:"/sell",children:"Sell"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(l.b,{className:"nav-link",to:"/history",children:"History"})})]})}),Object(i.jsx)("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav",children:Object(i.jsx)("ul",{className:"navbar-nav",children:Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(l.b,{className:"nav-link",to:"/logout",children:"Log Out"})})})})]})}):Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(l.b,{className:"navbar-brand",to:"/",children:"Stocky"}),Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav",children:Object(i.jsxs)("ul",{className:"navbar-nav",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(l.b,{className:"nav-link",to:"/register",children:"Register"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(l.b,{className:"nav-link",to:"/login",children:"Login"})})]})})]})})};var b=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Afraid of loosing money by investing in stocks? Get your feet wet in the virtual world!"}),Object(i.jsx)("p",{children:"Introducing Stocky! A completely gamified clone of the real ones. You will start off with 10000$ in your Wallet."})]})},d=a(12),u=a.n(d),h=a(14),O=a(11),x=a(7),p=a(5),m=a.n(p);function f(e){return Object(i.jsx)("div",{class:"form-group",children:Object(i.jsx)("input",{onChange:e.onChange,value:e.value,className:"form-control",type:e.type,name:e.name,placeholder:e.placeholder})})}function v(e){return Object(i.jsx)("button",{type:"submit",className:"btn btn-primary mb-3",children:e.name})}var g=function(e){var t=Object(o.f)(),a=Object(n.useState)({username:"",password:"",confirmPassword:""}),c=Object(r.a)(a,2),s=c[0],l=c[1];function j(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(O.a)({},a,n))}))}function b(){return(b=Object(h.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,m.a.post("/api/users/register",s).then((function(t){console.log(t.data),e.displayMsg(t.data)})).catch((function(e){return console.log(e)}));case 3:t.push("/login");case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(i.jsxs)("form",{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(i.jsx)(f,{onChange:j,value:s.username,type:"email",name:"username",placeholder:"name@example.com"}),Object(i.jsx)(f,{onChange:j,value:s.password,type:"password",name:"password",placeholder:"Password"}),Object(i.jsx)(f,{onChange:j,value:s.confirmPassword,type:"text",name:"confirmPassword",placeholder:"ConfirmPassword"}),Object(i.jsx)(v,{name:"Register"}),s.password===s.confirmPassword?"":Object(i.jsx)("p",{children:"Passwords dont match"})]})};var y=function(e){var t=Object(o.f)(),a=Object(n.useState)({username:"",password:""}),c=Object(r.a)(a,2),s=c[0],l=c[1];function j(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(O.a)({},a,n))}))}function b(){return(b=Object(h.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),m.a.post("/api/users/login",s,{withCredentials:!0}).then((function(a){console.log(a.data),localStorage.setItem("user",a.data),e.displayMsg("Logged In!"),e.authenticate(),t.push("/index")})).catch((function(t){console.log(t),e.displayMsg("Invalid Credentials")}));case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(i.jsxs)("form",{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(i.jsx)(f,{onChange:j,value:s.username,type:"email",name:"username",placeholder:"name@example.com"}),Object(i.jsx)(f,{onChange:j,value:s.password,type:"password",name:"password",placeholder:"Password"}),Object(i.jsx)(v,{name:"Login"})]})};function N(e){var t=e.stock;return Object(i.jsxs)("h3",{children:["A single share of ",t.name," (",t.symbol,") costs ",t.price]})}var w=function(){var e=Object(n.useState)({symbol:""}),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({}),l=Object(r.a)(s,2),o=l[0],j=l[1];return Object(i.jsxs)("div",{children:[Object(i.jsxs)("form",{onSubmit:function(e){m.a.post("/api/trans/quote",a,{withCredentials:!0}).then((function(e){var t;t=e.data,j(t)})).catch((function(e){return console.log(e)})),e.preventDefault()},children:[Object(i.jsx)(f,{onChange:function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(O.a)({},a,n))}))},value:a.symbol,type:"text",name:"symbol",placeholder:"Symbol"}),Object(i.jsx)(v,{name:"Quote"})]}),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"Company"}),Object(i.jsx)("th",{scope:"col",children:"Symbol"})]})}),Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Apple"}),Object(i.jsx)("td",{children:"AAPL"})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Tesla"}),Object(i.jsx)("td",{children:"TSLA"})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Netflix"}),Object(i.jsx)("td",{children:"NFLX"})]})]})]}),Object(i.jsx)(N,{stock:o})]})};var S=function(e){var t=Object(o.f)(),a=Object(n.useState)({symbol:"",num:0}),c=Object(r.a)(a,2),s=c[0],l=c[1];function j(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(O.a)({},a,n))}))}function b(){return(b=Object(h.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,m.a.post("/api/trans/buy",s,{withCredentials:!0}).then((function(a){console.log(a.data),e.displayMsg(a.data),t.push("/index")})).catch((function(e){return console.log(e)}));case 3:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(i.jsxs)("form",{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(i.jsx)(f,{onChange:j,value:s.symbol,type:"text",name:"symbol",placeholder:"Symbol"}),Object(i.jsx)(f,{onChange:j,value:s.num,type:"number",name:"num",placeholder:"Shares"}),Object(i.jsx)(v,{name:"Buy"})]})};function k(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:e.index+1}),Object(i.jsx)("td",{children:e.stock.name}),Object(i.jsx)("td",{children:e.stock.symbol}),Object(i.jsxs)("td",{children:["$",e.stock.price]}),Object(i.jsx)("td",{children:e.stock.shares}),Object(i.jsxs)("td",{children:["$",e.stock.cost]})]})}function C(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:e.name}),Object(i.jsx)("td",{}),Object(i.jsx)("td",{}),Object(i.jsx)("td",{}),Object(i.jsx)("td",{}),Object(i.jsxs)("td",{children:["$",e.value]})]})}var M=function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),l=Object(r.a)(s,2),o=l[0],j=l[1];return Object(n.useEffect)((function(){m.a.get("/api/trans/index",{withCredentials:!0}).then((function(e){console.log(e.data),j(e.data),c(!1)})).catch((function(e){return console.log(e)}))}),[]),a?Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("h3",{children:"Loading..."})}):Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"#"}),Object(i.jsx)("th",{scope:"col",children:"Name"}),Object(i.jsx)("th",{scope:"col",children:"Symbol"}),Object(i.jsx)("th",{scope:"col",children:"Current Price"}),Object(i.jsx)("th",{scope:"col",children:"Shares"}),Object(i.jsx)("th",{scope:"col",children:"Total"})]})}),Object(i.jsxs)("tbody",{children:[o.stocks.map((function(e,t){return Object(i.jsx)(k,{stock:e,index:t},t)})),Object(i.jsx)(C,{name:"Portfolio",value:o.cashinstocks}),Object(i.jsx)(C,{name:"Wallet",value:o.balance}),Object(i.jsx)(C,{name:"Total",value:Math.round(100*(o.cashinstocks+o.balance))/100})]})]})};var P=function(e){var t=Object(o.f)(),a=Object(n.useState)({symbol:"",num:0}),c=Object(r.a)(a,2),s=c[0],l=c[1],j=Object(n.useState)(!0),b=Object(r.a)(j,2),d=b[0],p=b[1],g=Object(n.useState)(),y=Object(r.a)(g,2),N=y[0],w=y[1];function S(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(O.a)({},a,n))}))}function k(){return(k=Object(h.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,m.a.post("/api/trans/sell",s,{withCredentials:!0}).then((function(a){console.log(a.data),e.displayMsg(a.data),t.push("/index")})).catch((function(e){return console.log(e)}));case 3:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){m.a.get("/api/trans/preSell",{withCredentials:!0}).then((function(e){w(e.data),p(!1)})).catch((function(e){return console.log(e)}))}),[]),d?Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("h3",{children:"Loading..."})}):Object(i.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(i.jsx)("div",{className:"form-group",children:Object(i.jsxs)("select",{onChange:S,value:s.symbol,name:"symbol",className:"form-control","data-style":"btn-primary",children:[Object(i.jsx)("option",{value:"",children:"Choose"}),N.map((function(e,t){return Object(i.jsxs)("option",{value:e._id,children:[" ",e._id]},t)}))]})}),Object(i.jsx)(f,{onChange:S,value:s.num,type:"number",name:"num",placeholder:"Shares"}),Object(i.jsx)(v,{name:"Sell"})]})};function L(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:e.index+1}),Object(i.jsx)("td",{children:e.stock.symbol}),Object(i.jsx)("td",{children:e.stock.shares}),Object(i.jsxs)("td",{children:["$",e.stock.price]}),Object(i.jsxs)("td",{children:["$",Math.abs(Math.round(e.stock.price*e.stock.shares*100)/100)]}),Object(i.jsx)("td",{children:e.stock.time})]})}var A=function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),l=Object(r.a)(s,2),o=l[0],j=l[1];return Object(n.useEffect)((function(){m.a.get("/api/trans/history",{withCredentials:!0}).then((function(e){console.log(e.data),j(e.data),c(!1)})).catch((function(e){return console.log(e)}))}),[]),a?Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("h3",{children:"Loading..."})}):Object(i.jsxs)("div",{children:[Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"#"}),Object(i.jsx)("th",{scope:"col",children:"Symbol"}),Object(i.jsx)("th",{scope:"col",children:"Shares"}),Object(i.jsx)("th",{scope:"col",children:"Bought / Sold Price"}),Object(i.jsx)("th",{scope:"col",children:"Total"}),Object(i.jsx)("th",{scope:"col",children:"Time"})]})}),Object(i.jsx)("tbody",{children:o.map((function(e,t){return Object(i.jsx)(L,{stock:e,index:t},t)}))})]}),Object(i.jsx)("p",{children:"*Negative sign in shares indicates that the stock was sold at that price"})]})};var T=function(e){var t=Object(o.f)();return m.a.get("/api/users/logout",{withCredentials:!0}).then((function(t){console.log(t.data),e.displayMsg(t.data)})).catch((function(e){return console.log(e)})),localStorage.clear(),e.disauthenticate(),t.push("/"),Object(i.jsx)("div",{className:"container",children:"Logging out"})};var I=function(){Object(n.useEffect)((function(){localStorage.getItem("user")&&c(!0)}),[]);var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),d=Object(r.a)(s,2),u=d[0],h=d[1];function O(){c((function(){return!0}))}function x(){c((function(){return!1}))}return Object(i.jsxs)(l.a,{children:[Object(i.jsx)(j,{status:a}),Object(i.jsx)("div",{class:"alert alert-primary",role:"alert",children:u}),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)(o.c,{children:[Object(i.jsx)(o.a,{path:"/",exact:!0,component:b}),Object(i.jsx)(o.a,{path:"/register",exact:!0,render:function(){return Object(i.jsx)(g,{displayMsg:h})}}),Object(i.jsx)(o.a,{path:"/login",exact:!0,render:function(){return Object(i.jsx)(y,{authenticate:O,displayMsg:h})}}),Object(i.jsx)(o.a,{path:"/index",exact:!0,component:M}),Object(i.jsx)(o.a,{path:"/quote",exact:!0,component:w}),Object(i.jsx)(o.a,{path:"/buy",render:function(){return Object(i.jsx)(S,{displayMsg:h})}}),Object(i.jsx)(o.a,{path:"/sell",render:function(){return Object(i.jsx)(P,{displayMsg:h})}}),Object(i.jsx)(o.a,{path:"/history",exact:!0,component:A}),Object(i.jsx)(o.a,{path:"/logout",exact:!0,render:function(){return Object(i.jsx)(T,{disauthenticate:x,displayMsg:h})}})]})})]})};s.a.render(Object(i.jsx)(I,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.3b81897a.chunk.js.map